{"version":3,"sources":["js/index.js"],"names":["$","jQuery","submit","event","preventDefault","appLink","form","attr","formRespond","find","formTitle","preloader","submitButton","fd","FormData","ajax","url","type","data","processData","contentType","beforeSend","get","length","delete","css","prop","done","res","textStatus","jqXHR","readyState","status","html","reset","setTimeout","console","log","fail"],"mappings":";AAAAA,GAqHEC,YApHAD,EAAE,WAAWE,OAAO,SAAUC,GAC5BA,EAAMC,iBAGAC,IASFC,EAAON,EAAE,IAAMA,EAAE,MAAMO,KAAK,OAAO,GAGnCC,EAAcR,EAAE,MAAMS,KAAK,0BAG3BC,EAAYV,EAAE,MAAMS,KAAK,uBAGzBE,EAAYX,EAAE,MAAMS,KAAK,sBAGzBG,EAAeZ,EAAE,MAAMS,KAAK,mBAI5BI,EAAK,IAAIC,SAASR,GAGtBN,EAAEe,KAAK,CAELC,IA9Bc,kGA+BdC,KAAM,OACNC,KAAML,EACNM,aAAa,EACbC,aAAa,EACbC,WAAY,WAEPR,GAAAA,EAAGS,IAAI,YAAYC,OACb,OAAA,EAEPV,EAAGW,OAAO,YAIdb,EAAUc,IAAI,UAAW,KAGzBb,EAAac,KAAK,YAAY,MAM/BC,KAAK,SAASC,EAAKC,EAAYC,GAER,IAArBA,EAAMC,YAAqC,MAAjBD,EAAME,QAGnCtB,EAAUe,IAAI,CACD,QAAA,SAIbd,EAAUc,IAAI,UAAW,KAGzBjB,EAAYyB,KA/DS,oEA+DYR,IAAI,QAAS,WAG9Cb,EAAac,KAAK,YAAY,GAG5BpB,EAAK4B,UAGLxB,EAAUe,IAAI,CACD,QAAA,SAEbjB,EAAYyB,KAxEK,qEAwEcR,IAAI,QAAS,WAC5Cd,EAAUc,IAAI,UAAW,KACzBU,WAAY,WACV3B,EAAYiB,IAAI,CACH,QAAA,SAEbf,EAAUe,IAAI,CACD,QAAA,UAGbb,EAAac,KAAK,YAAY,IAC7B,KAEHU,QAAQC,IAAI,mCAEbC,KAAK,SAASV,EAAKC,EAAYC,GAChCpB,EAAUe,IAAI,CACD,QAAA,SAEbd,EAAUc,IAAI,UAAW,KACzBjB,EAAYyB,KAAK,mCAAmCR,IAAI,QAAS,WACjEU,WAAY,WACV3B,EAAYiB,IAAI,CACH,QAAA,SAEbf,EAAUe,IAAI,CACD,QAAA,UAEbb,EAAac,KAAK,YAAY,IAC7B,KAEHU,QAAQC,IAAI","file":"js.5706e037.js","sourceRoot":"../src","sourcesContent":["$(function() {\n  $(\".g-form\").submit(function (event) {\n    event.preventDefault();\n \n    // Ссылка, которую получили на этапе публикации приложения\n    const appLink = \"https://script.google.com/macros/s/AKfycbynDBoKzEuxFPsRR_o5hAOaKSMETygp6R3bH0X39__qldbubPQ/exec\";\n \n    // Сообщение при успешной отправке данных\n    let successRespond = 'Заявка успешно отправлена. Мы с вами свяжемся в ближайшее время.';\n \n    // Сообщение при ошибке в отправке данных\n    let errorRespond = 'Не удалось отправить сообщение. Извините за временные неудобства.';\n \n    // Id текущей формы\n    let form = $('#' + $(this).attr('id'))[0];\n \n    // h2 с ответом формы\n    let formRespond = $(this).find('.g-form__title_respond');\n \n    // h2 с заголовком формы\n    let formTitle = $(this).find('.g-form__title_main');\n \n    // Блок прелоадера\n    let preloader = $(this).find('.g-form__preloader');\n \n    // Кнопка отправки формы\n    let submitButton = $(this).find('.g-form__button');\n \n \n    // FormData\n    let fd = new FormData(form);\n \n \n    $.ajax({\n \n      url: appLink,\n      type: \"POST\",\n      data: fd,\n      processData: false,\n      contentType: false,\n      beforeSend: function(){\n \n        if(fd.get('honeypot').length) {\n          return false;\n        } else {\n          fd.delete('honeypot');\n        }\n \n      // Показываем прелоадер\n      preloader.css('opacity', '1');\n \n      // Делаем неактивной кнопку отправки\n      submitButton.prop('disabled', true);\n \n      // валидация других полей.\n \n    },\n \n  }).done(function(res, textStatus, jqXHR) {\n \n    if(jqXHR.readyState === 4 && jqXHR.status === 200) {\n \n    // Прячем заголовок формы\n    formTitle.css({\n      'display': 'none'\n    });\n \n    // Прячем прелоадер\n    preloader.css('opacity', '0');\n \n    // Выводим ответ формы.\n    formRespond.html(successRespond).css('color', '#37b599');\n     \n    // Возвращаем активность кнопке отправки\n    submitButton.prop('disabled', false);\n \n      // Очищаем поля формы\n      form.reset();\n \n    } else {\n      formTitle.css({\n        'display': 'none'\n      });\n      formRespond.html(errorRespond).css('color', '#c64b4b');\n      preloader.css('opacity', '0');\n      setTimeout( () => {\n        formRespond.css({\n          'display': 'none'\n        });\n        formTitle.css({\n          'display': 'block'\n        });\n \n        submitButton.prop('disabled', false);\n      }, 5000);\n \n      console.log('Гугл не ответил статусом 200');\n    }\n  }).fail(function(res, textStatus, jqXHR) {\n    formTitle.css({\n      'display': 'none'\n    });\n    preloader.css('opacity', '0');\n    formRespond.html('Не удалось отправить сообщение.').css('color', '#c64b4b');\n    setTimeout( () => {\n      formRespond.css({\n        'display': 'none'\n      });\n      formTitle.css({\n        'display': 'block'\n      });\n      submitButton.prop('disabled', false); \n    }, 5000);\n \n    console.log('Не удалось выполнить запрос по указанному в скрипте пути');\n  }); \n});\n}(jQuery));\n\n// let i = 235;\n//  var button = $ipsp.get('button');\n//         button.setMerchantId(1396424);\n//         button.setAmount(i, 'UAH');\n//         button.setHost('pay.fondy.eu');"]}